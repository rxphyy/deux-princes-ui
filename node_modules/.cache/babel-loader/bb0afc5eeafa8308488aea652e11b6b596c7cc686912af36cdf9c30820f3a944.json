{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _get = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _inherits = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SetProfilingLevelOperation = exports.ProfilingLevel = void 0;\nvar error_1 = require(\"../error\");\nvar utils_1 = require(\"../utils\");\nvar command_1 = require(\"./command\");\nvar levelValues = new Set(['off', 'slow_only', 'all']);\n/** @public */\nexports.ProfilingLevel = Object.freeze({\n  off: 'off',\n  slowOnly: 'slow_only',\n  all: 'all'\n});\n/** @internal */\nvar SetProfilingLevelOperation = /*#__PURE__*/function (_command_1$CommandOpe) {\n  _inherits(SetProfilingLevelOperation, _command_1$CommandOpe);\n  var _super = _createSuper(SetProfilingLevelOperation);\n  function SetProfilingLevelOperation(db, level, options) {\n    var _this;\n    _classCallCheck(this, SetProfilingLevelOperation);\n    _this = _super.call(this, db, options);\n    _this.options = options;\n    switch (level) {\n      case exports.ProfilingLevel.off:\n        _this.profile = 0;\n        break;\n      case exports.ProfilingLevel.slowOnly:\n        _this.profile = 1;\n        break;\n      case exports.ProfilingLevel.all:\n        _this.profile = 2;\n        break;\n      default:\n        _this.profile = 0;\n        break;\n    }\n    _this.level = level;\n    return _this;\n  }\n  _createClass(SetProfilingLevelOperation, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(server, session) {\n        var level;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              level = this.level;\n              if (levelValues.has(level)) {\n                _context.next = 3;\n                break;\n              }\n              throw new error_1.MongoInvalidArgumentError(\"Profiling level must be one of \\\"\".concat((0, utils_1.enumToString)(exports.ProfilingLevel), \"\\\"\"));\n            case 3:\n              _context.next = 5;\n              return _get(_getPrototypeOf(SetProfilingLevelOperation.prototype), \"executeCommand\", this).call(this, server, session, {\n                profile: this.profile\n              });\n            case 5:\n              return _context.abrupt(\"return\", level);\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function execute(_x, _x2) {\n        return _execute.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n  return SetProfilingLevelOperation;\n}(command_1.CommandOperation);\nexports.SetProfilingLevelOperation = SetProfilingLevelOperation;","map":{"version":3,"names":["error_1","require","utils_1","command_1","levelValues","Set","exports","ProfilingLevel","Object","freeze","off","slowOnly","all","SetProfilingLevelOperation","_command_1$CommandOpe","_inherits","_super","_createSuper","db","level","options","_this","_classCallCheck","call","profile","_createClass","key","value","_execute","_asyncToGenerator","_regeneratorRuntime","mark","_callee","server","session","wrap","_callee$","_context","prev","next","has","MongoInvalidArgumentError","concat","enumToString","_get","_getPrototypeOf","prototype","abrupt","stop","execute","_x","_x2","apply","arguments","CommandOperation"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\operations\\set_profiling_level.ts"],"sourcesContent":["import type { Db } from '../db';\nimport { MongoInvalidArgumentError } from '../error';\nimport type { Server } from '../sdam/server';\nimport type { ClientSession } from '../sessions';\nimport { enumToString } from '../utils';\nimport { CommandOperation, type CommandOperationOptions } from './command';\n\nconst levelValues = new Set(['off', 'slow_only', 'all']);\n\n/** @public */\nexport const ProfilingLevel = Object.freeze({\n  off: 'off',\n  slowOnly: 'slow_only',\n  all: 'all'\n} as const);\n\n/** @public */\nexport type ProfilingLevel = (typeof ProfilingLevel)[keyof typeof ProfilingLevel];\n\n/** @public */\nexport type SetProfilingLevelOptions = CommandOperationOptions;\n\n/** @internal */\nexport class SetProfilingLevelOperation extends CommandOperation<ProfilingLevel> {\n  override options: SetProfilingLevelOptions;\n  level: ProfilingLevel;\n  profile: 0 | 1 | 2;\n\n  constructor(db: Db, level: ProfilingLevel, options: SetProfilingLevelOptions) {\n    super(db, options);\n    this.options = options;\n    switch (level) {\n      case ProfilingLevel.off:\n        this.profile = 0;\n        break;\n      case ProfilingLevel.slowOnly:\n        this.profile = 1;\n        break;\n      case ProfilingLevel.all:\n        this.profile = 2;\n        break;\n      default:\n        this.profile = 0;\n        break;\n    }\n\n    this.level = level;\n  }\n\n  override async execute(\n    server: Server,\n    session: ClientSession | undefined\n  ): Promise<ProfilingLevel> {\n    const level = this.level;\n\n    if (!levelValues.has(level)) {\n      throw new MongoInvalidArgumentError(\n        `Profiling level must be one of \"${enumToString(ProfilingLevel)}\"`\n      );\n    }\n\n    // TODO(NODE-3483): Determine error to put here\n    await super.executeCommand(server, session, { profile: this.profile });\n    return level;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AAGA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAEA,IAAMG,WAAW,GAAG,IAAIC,GAAG,CAAC,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;AAExD;AACaC,OAAA,CAAAC,cAAc,GAAGC,MAAM,CAACC,MAAM,CAAC;EAC1CC,GAAG,EAAE,KAAK;EACVC,QAAQ,EAAE,WAAW;EACrBC,GAAG,EAAE;CACG,CAAC;AAQX;AAAA,IACaC,0BAA2B,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,0BAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,0BAAA;EAKtC,SAAAA,2BAAYK,EAAM,EAAEC,KAAqB,EAAEC,OAAiC;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAT,0BAAA;IAC1EQ,KAAA,GAAAL,MAAA,CAAAO,IAAA,OAAML,EAAE,EAAEE,OAAO;IACjBC,KAAA,CAAKD,OAAO,GAAGA,OAAO;IACtB,QAAQD,KAAK;MACX,KAAKb,OAAA,CAAAC,cAAc,CAACG,GAAG;QACrBW,KAAA,CAAKG,OAAO,GAAG,CAAC;QAChB;MACF,KAAKlB,OAAA,CAAAC,cAAc,CAACI,QAAQ;QAC1BU,KAAA,CAAKG,OAAO,GAAG,CAAC;QAChB;MACF,KAAKlB,OAAA,CAAAC,cAAc,CAACK,GAAG;QACrBS,KAAA,CAAKG,OAAO,GAAG,CAAC;QAChB;MACF;QACEH,KAAA,CAAKG,OAAO,GAAG,CAAC;QAChB;;IAGJH,KAAA,CAAKF,KAAK,GAAGA,KAAK;IAAC,OAAAE,KAAA;EACrB;EAACI,YAAA,CAAAZ,0BAAA;IAAAa,GAAA;IAAAC,KAAA;MAAA,IAAAC,QAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAEQ,SAAAC,QACPC,MAAc,EACdC,OAAkC;QAAA,IAAAf,KAAA;QAAA,OAAAW,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAE5BpB,KAAK,GAAG,IAAI,CAACA,KAAK;cAAA,IAEnBf,WAAW,CAACoC,GAAG,CAACrB,KAAK,CAAC;gBAAAkB,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MACnB,IAAIvC,OAAA,CAAAyC,yBAAyB,qCAAAC,MAAA,CACE,IAAAxC,OAAA,CAAAyC,YAAY,EAACrC,OAAA,CAAAC,cAAc,CAAC,OAAG,CACnE;YAAA;cAAA8B,QAAA,CAAAE,IAAA;cAAA,OAAAK,IAAA,CAAAC,eAAA,CAAAhC,0BAAA,CAAAiC,SAAA,2BAAAvB,IAAA,OAIwBU,MAAM,EAAEC,OAAO,EAAE;gBAAEV,OAAO,EAAE,IAAI,CAACA;cAAO,CAAE;YAAA;cAAA,OAAAa,QAAA,CAAAU,MAAA,WAC9D5B,KAAK;YAAA;YAAA;cAAA,OAAAkB,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA,CACb;MAAA,SAAAiB,QAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAvB,QAAA,CAAAwB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,OAAA;IAAA;EAAA;EAAA,OAAApC,0BAAA;AAAA,EAzC6CV,SAAA,CAAAmD,gBAAgC;AAAhFhD,OAAA,CAAAO,0BAAA,GAAAA,0BAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}