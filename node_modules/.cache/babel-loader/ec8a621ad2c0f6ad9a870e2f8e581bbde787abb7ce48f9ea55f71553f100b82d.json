{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateSearchIndexesOperation = void 0;\nvar operation_1 = require(\"../operation\");\n/** @internal */\nvar CreateSearchIndexesOperation = /*#__PURE__*/function (_operation_1$Abstract) {\n  _inherits(CreateSearchIndexesOperation, _operation_1$Abstract);\n  var _super = _createSuper(CreateSearchIndexesOperation);\n  function CreateSearchIndexesOperation(collection, descriptions) {\n    var _this;\n    _classCallCheck(this, CreateSearchIndexesOperation);\n    _this = _super.call(this);\n    _this.collection = collection;\n    _this.descriptions = descriptions;\n    return _this;\n  }\n  _createClass(CreateSearchIndexesOperation, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(server, session) {\n        var _res$indexesCreated;\n        var namespace, command, res, indexesCreated;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              namespace = this.collection.fullNamespace;\n              command = {\n                createSearchIndexes: namespace.collection,\n                indexes: this.descriptions\n              };\n              _context.next = 4;\n              return server.commandAsync(namespace, command, {\n                session: session\n              });\n            case 4:\n              res = _context.sent;\n              indexesCreated = (_res$indexesCreated = res === null || res === void 0 ? void 0 : res.indexesCreated) !== null && _res$indexesCreated !== void 0 ? _res$indexesCreated : [];\n              return _context.abrupt(\"return\", indexesCreated.map(function (_ref) {\n                var name = _ref.name;\n                return name;\n              }));\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function execute(_x, _x2) {\n        return _execute.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n  return CreateSearchIndexesOperation;\n}(operation_1.AbstractOperation);\nexports.CreateSearchIndexesOperation = CreateSearchIndexesOperation;","map":{"version":3,"names":["operation_1","require","CreateSearchIndexesOperation","_operation_1$Abstract","_inherits","_super","_createSuper","collection","descriptions","_this","_classCallCheck","call","_createClass","key","value","_execute","_asyncToGenerator","_regeneratorRuntime","mark","_callee","server","session","_res$indexesCreated","namespace","command","res","indexesCreated","wrap","_callee$","_context","prev","next","fullNamespace","createSearchIndexes","indexes","commandAsync","sent","abrupt","map","_ref","name","stop","execute","_x","_x2","apply","arguments","AbstractOperation","exports"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\operations\\search_indexes\\create.ts"],"sourcesContent":["import type { Document } from 'bson';\n\nimport type { Collection } from '../../collection';\nimport type { Server } from '../../sdam/server';\nimport type { ClientSession } from '../../sessions';\nimport { AbstractOperation } from '../operation';\n\n/**\n * @public\n */\nexport interface SearchIndexDescription {\n  /** The name of the index. */\n  name?: string;\n\n  /** The index definition. */\n  definition: Document;\n}\n\n/** @internal */\nexport class CreateSearchIndexesOperation extends AbstractOperation<string[]> {\n  constructor(\n    private readonly collection: Collection,\n    private readonly descriptions: ReadonlyArray<SearchIndexDescription>\n  ) {\n    super();\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<string[]> {\n    const namespace = this.collection.fullNamespace;\n    const command = {\n      createSearchIndexes: namespace.collection,\n      indexes: this.descriptions\n    };\n\n    const res = await server.commandAsync(namespace, command, { session });\n\n    const indexesCreated: Array<{ name: string }> = res?.indexesCreated ?? [];\n    return indexesCreated.map(({ name }) => name);\n  }\n}\n"],"mappings":";;;;;;;;;;;;AAKA,IAAAA,WAAA,GAAAC,OAAA;AAaA;AAAA,IACaC,4BAA6B,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,4BAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,4BAAA;EACxC,SAAAA,6BACmBK,UAAsB,EACtBC,YAAmD;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAR,4BAAA;IAEpEO,KAAA,GAAAJ,MAAA,CAAAM,IAAA;IAHiBF,KAAA,CAAAF,UAAU,GAAVA,UAAU;IACVE,KAAA,CAAAD,YAAY,GAAZA,YAAY;IAAuC,OAAAC,KAAA;EAGtE;EAACG,YAAA,CAAAV,4BAAA;IAAAW,GAAA;IAAAC,KAAA;MAAA,IAAAC,QAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAEQ,SAAAC,QAAcC,MAAc,EAAEC,OAAkC;QAAA,IAAAC,mBAAA;QAAA,IAAAC,SAAA,EAAAC,OAAA,EAAAC,GAAA,EAAAC,cAAA;QAAA,OAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACjER,SAAS,GAAG,IAAI,CAAChB,UAAU,CAACyB,aAAa;cACzCR,OAAO,GAAG;gBACdS,mBAAmB,EAAEV,SAAS,CAAChB,UAAU;gBACzC2B,OAAO,EAAE,IAAI,CAAC1B;eACf;cAAAqB,QAAA,CAAAE,IAAA;cAAA,OAEiBX,MAAM,CAACe,YAAY,CAACZ,SAAS,EAAEC,OAAO,EAAE;gBAAEH,OAAO,EAAPA;cAAO,CAAE,CAAC;YAAA;cAAhEI,GAAG,GAAAI,QAAA,CAAAO,IAAA;cAEHV,cAAc,IAAAJ,mBAAA,GAA4BG,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEC,cAAc,cAAAJ,mBAAA,cAAAA,mBAAA,GAAI,EAAE;cAAA,OAAAO,QAAA,CAAAQ,MAAA,WAClEX,cAAc,CAACY,GAAG,CAAC,UAAAC,IAAA;gBAAA,IAAGC,IAAI,GAAAD,IAAA,CAAJC,IAAI;gBAAA,OAAOA,IAAI;cAAA,EAAC;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAtB,OAAA;MAAA,CAC9C;MAAA,SAAAuB,QAAAC,EAAA,EAAAC,GAAA;QAAA,OAAA7B,QAAA,CAAA8B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,OAAA;IAAA;EAAA;EAAA,OAAAxC,4BAAA;AAAA,EAnB+CF,WAAA,CAAA+C,iBAA2B;AAA7EC,OAAA,CAAA9C,4BAAA,GAAAA,4BAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}