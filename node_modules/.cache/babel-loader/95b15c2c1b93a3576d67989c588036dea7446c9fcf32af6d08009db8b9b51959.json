{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RunAdminCommandOperation = exports.RunCommandOperation = void 0;\nconst utils_1 = require(\"../utils\");\nconst operation_1 = require(\"./operation\");\n/** @internal */\nclass RunCommandOperation extends operation_1.AbstractOperation {\n  constructor(parent, command, options) {\n    super(options);\n    this.command = command;\n    this.options = options;\n    this.ns = parent.s.namespace.withCollection('$cmd');\n  }\n  async execute(server, session) {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    });\n  }\n}\nexports.RunCommandOperation = RunCommandOperation;\nclass RunAdminCommandOperation extends operation_1.AbstractOperation {\n  constructor(command, options) {\n    super(options);\n    this.command = command;\n    this.options = options;\n    this.ns = new utils_1.MongoDBNamespace('admin', '$cmd');\n  }\n  async execute(server, session) {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    });\n  }\n}\nexports.RunAdminCommandOperation = RunAdminCommandOperation;","map":{"version":3,"names":["utils_1","require","operation_1","RunCommandOperation","AbstractOperation","constructor","parent","command","options","ns","s","namespace","withCollection","execute","server","session","commandAsync","readPreference","exports","RunAdminCommandOperation","MongoDBNamespace"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\operations\\run_command.ts"],"sourcesContent":["import type { BSONSerializeOptions, Document } from '../bson';\nimport { type Db } from '../db';\nimport { type TODO_NODE_3286 } from '../mongo_types';\nimport type { ReadPreferenceLike } from '../read_preference';\nimport type { Server } from '../sdam/server';\nimport type { ClientSession } from '../sessions';\nimport { MongoDBNamespace } from '../utils';\nimport { AbstractOperation } from './operation';\n\n/** @public */\nexport type RunCommandOptions = {\n  /** Specify ClientSession for this command */\n  session?: ClientSession;\n  /** The read preference */\n  readPreference?: ReadPreferenceLike;\n} & BSONSerializeOptions;\n\n/** @internal */\nexport class RunCommandOperation<T = Document> extends AbstractOperation<T> {\n  constructor(parent: Db, public command: Document, public override options: RunCommandOptions) {\n    super(options);\n    this.ns = parent.s.namespace.withCollection('$cmd');\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    }) as TODO_NODE_3286;\n  }\n}\n\nexport class RunAdminCommandOperation<T = Document> extends AbstractOperation<T> {\n  constructor(\n    public command: Document,\n    public override options: RunCommandOptions & {\n      noResponse?: boolean;\n      bypassPinningCheck?: boolean;\n    }\n  ) {\n    super(options);\n    this.ns = new MongoDBNamespace('admin', '$cmd');\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    }) as TODO_NODE_3286;\n  }\n}\n"],"mappings":";;;;;;AAMA,MAAAA,OAAA,GAAAC,OAAA;AACA,MAAAC,WAAA,GAAAD,OAAA;AAUA;AACA,MAAaE,mBAAkC,SAAQD,WAAA,CAAAE,iBAAoB;EACzEC,YAAYC,MAAU,EAASC,OAAiB,EAAkBC,OAA0B;IAC1F,KAAK,CAACA,OAAO,CAAC;IADe,KAAAD,OAAO,GAAPA,OAAO;IAA4B,KAAAC,OAAO,GAAPA,OAAO;IAEvE,IAAI,CAACC,EAAE,GAAGH,MAAM,CAACI,CAAC,CAACC,SAAS,CAACC,cAAc,CAAC,MAAM,CAAC;EACrD;EAES,MAAMC,OAAOA,CAACC,MAAc,EAAEC,OAAkC;IACvE,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,OAAOA,MAAM,CAACE,YAAY,CAAC,IAAI,CAACP,EAAE,EAAE,IAAI,CAACF,OAAO,EAAE;MAChD,GAAG,IAAI,CAACC,OAAO;MACfS,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCF;KACD,CAAmB;EACtB;;AAbFG,OAAA,CAAAf,mBAAA,GAAAA,mBAAA;AAgBA,MAAagB,wBAAuC,SAAQjB,WAAA,CAAAE,iBAAoB;EAC9EC,YACSE,OAAiB,EACRC,OAGf;IAED,KAAK,CAACA,OAAO,CAAC;IANP,KAAAD,OAAO,GAAPA,OAAO;IACE,KAAAC,OAAO,GAAPA,OAAO;IAMvB,IAAI,CAACC,EAAE,GAAG,IAAIT,OAAA,CAAAoB,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC;EACjD;EAES,MAAMP,OAAOA,CAACC,MAAc,EAAEC,OAAkC;IACvE,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,OAAOA,MAAM,CAACE,YAAY,CAAC,IAAI,CAACP,EAAE,EAAE,IAAI,CAACF,OAAO,EAAE;MAChD,GAAG,IAAI,CAACC,OAAO;MACfS,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCF;KACD,CAAmB;EACtB;;AAnBFG,OAAA,CAAAC,wBAAA,GAAAA,wBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}