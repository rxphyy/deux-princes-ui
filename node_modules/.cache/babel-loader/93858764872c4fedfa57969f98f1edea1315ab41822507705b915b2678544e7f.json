{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _objectSpread = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RunAdminCommandOperation = exports.RunCommandOperation = void 0;\nvar utils_1 = require(\"../utils\");\nvar operation_1 = require(\"./operation\");\n/** @internal */\nvar RunCommandOperation = /*#__PURE__*/function (_operation_1$Abstract) {\n  _inherits(RunCommandOperation, _operation_1$Abstract);\n  var _super = _createSuper(RunCommandOperation);\n  function RunCommandOperation(parent, command, options) {\n    var _this;\n    _classCallCheck(this, RunCommandOperation);\n    _this = _super.call(this, options);\n    _this.command = command;\n    _this.options = options;\n    _this.ns = parent.s.namespace.withCollection('$cmd');\n    return _this;\n  }\n  _createClass(RunCommandOperation, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(server, session) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.server = server;\n              return _context.abrupt(\"return\", server.commandAsync(this.ns, this.command, _objectSpread(_objectSpread({}, this.options), {}, {\n                readPreference: this.readPreference,\n                session: session\n              })));\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function execute(_x, _x2) {\n        return _execute.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n  return RunCommandOperation;\n}(operation_1.AbstractOperation);\nexports.RunCommandOperation = RunCommandOperation;\nvar RunAdminCommandOperation = /*#__PURE__*/function (_operation_1$Abstract2) {\n  _inherits(RunAdminCommandOperation, _operation_1$Abstract2);\n  var _super2 = _createSuper(RunAdminCommandOperation);\n  function RunAdminCommandOperation(command, options) {\n    var _this2;\n    _classCallCheck(this, RunAdminCommandOperation);\n    _this2 = _super2.call(this, options);\n    _this2.command = command;\n    _this2.options = options;\n    _this2.ns = new utils_1.MongoDBNamespace('admin', '$cmd');\n    return _this2;\n  }\n  _createClass(RunAdminCommandOperation, [{\n    key: \"execute\",\n    value: function () {\n      var _execute2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(server, session) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this.server = server;\n              return _context2.abrupt(\"return\", server.commandAsync(this.ns, this.command, _objectSpread(_objectSpread({}, this.options), {}, {\n                readPreference: this.readPreference,\n                session: session\n              })));\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function execute(_x3, _x4) {\n        return _execute2.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n  return RunAdminCommandOperation;\n}(operation_1.AbstractOperation);\nexports.RunAdminCommandOperation = RunAdminCommandOperation;","map":{"version":3,"names":["utils_1","require","operation_1","RunCommandOperation","_operation_1$Abstract","_inherits","_super","_createSuper","parent","command","options","_this","_classCallCheck","call","ns","s","namespace","withCollection","_createClass","key","value","_execute","_asyncToGenerator","_regeneratorRuntime","mark","_callee","server","session","wrap","_callee$","_context","prev","next","abrupt","commandAsync","_objectSpread","readPreference","stop","execute","_x","_x2","apply","arguments","AbstractOperation","exports","RunAdminCommandOperation","_operation_1$Abstract2","_super2","_this2","MongoDBNamespace","_execute2","_callee2","_callee2$","_context2","_x3","_x4"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\operations\\run_command.ts"],"sourcesContent":["import type { BSONSerializeOptions, Document } from '../bson';\nimport { type Db } from '../db';\nimport { type TODO_NODE_3286 } from '../mongo_types';\nimport type { ReadPreferenceLike } from '../read_preference';\nimport type { Server } from '../sdam/server';\nimport type { ClientSession } from '../sessions';\nimport { MongoDBNamespace } from '../utils';\nimport { AbstractOperation } from './operation';\n\n/** @public */\nexport type RunCommandOptions = {\n  /** Specify ClientSession for this command */\n  session?: ClientSession;\n  /** The read preference */\n  readPreference?: ReadPreferenceLike;\n} & BSONSerializeOptions;\n\n/** @internal */\nexport class RunCommandOperation<T = Document> extends AbstractOperation<T> {\n  constructor(parent: Db, public command: Document, public override options: RunCommandOptions) {\n    super(options);\n    this.ns = parent.s.namespace.withCollection('$cmd');\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    }) as TODO_NODE_3286;\n  }\n}\n\nexport class RunAdminCommandOperation<T = Document> extends AbstractOperation<T> {\n  constructor(\n    public command: Document,\n    public override options: RunCommandOptions & {\n      noResponse?: boolean;\n      bypassPinningCheck?: boolean;\n    }\n  ) {\n    super(options);\n    this.ns = new MongoDBNamespace('admin', '$cmd');\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\n    this.server = server;\n    return server.commandAsync(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    }) as TODO_NODE_3286;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}