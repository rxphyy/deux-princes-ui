{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadGCPCredentials = void 0;\nconst deps_1 = require(\"../../deps\");\n/** @internal */\nasync function loadGCPCredentials(kmsProviders) {\n  const gcpMetadata = (0, deps_1.getGcpMetadata)();\n  if ('kModuleError' in gcpMetadata) {\n    return kmsProviders;\n  }\n  const {\n    access_token: accessToken\n  } = await gcpMetadata.instance({\n    property: 'service-accounts/default/token'\n  });\n  return {\n    ...kmsProviders,\n    gcp: {\n      accessToken\n    }\n  };\n}\nexports.loadGCPCredentials = loadGCPCredentials;","map":{"version":3,"names":["deps_1","require","loadGCPCredentials","kmsProviders","gcpMetadata","getGcpMetadata","access_token","accessToken","instance","property","gcp","exports"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\client-side-encryption\\providers\\gcp.ts"],"sourcesContent":["import { getGcpMetadata } from '../../deps';\nimport { type KMSProviders } from '.';\n\n/** @internal */\nexport async function loadGCPCredentials(kmsProviders: KMSProviders): Promise<KMSProviders> {\n  const gcpMetadata = getGcpMetadata();\n\n  if ('kModuleError' in gcpMetadata) {\n    return kmsProviders;\n  }\n\n  const { access_token: accessToken } = await gcpMetadata.instance<{ access_token: string }>({\n    property: 'service-accounts/default/token'\n  });\n  return { ...kmsProviders, gcp: { accessToken } };\n}\n"],"mappings":";;;;;;AAAA,MAAAA,MAAA,GAAAC,OAAA;AAGA;AACO,eAAeC,kBAAkBA,CAACC,YAA0B;EACjE,MAAMC,WAAW,GAAG,IAAAJ,MAAA,CAAAK,cAAc,GAAE;EAEpC,IAAI,cAAc,IAAID,WAAW,EAAE;IACjC,OAAOD,YAAY;;EAGrB,MAAM;IAAEG,YAAY,EAAEC;EAAW,CAAE,GAAG,MAAMH,WAAW,CAACI,QAAQ,CAA2B;IACzFC,QAAQ,EAAE;GACX,CAAC;EACF,OAAO;IAAE,GAAGN,YAAY;IAAEO,GAAG,EAAE;MAAEH;IAAW;EAAE,CAAE;AAClD;AAXAI,OAAA,CAAAT,kBAAA,GAAAA,kBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}