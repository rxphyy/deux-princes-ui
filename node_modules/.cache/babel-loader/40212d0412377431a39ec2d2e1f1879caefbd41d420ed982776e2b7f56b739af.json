{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/raphm/Documents/Projects/youtube-transcript/youtube-transcript/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DropSearchIndexOperation = void 0;\nvar error_1 = require(\"../../error\");\nvar operation_1 = require(\"../operation\");\n/** @internal */\nvar DropSearchIndexOperation = /*#__PURE__*/function (_operation_1$Abstract) {\n  _inherits(DropSearchIndexOperation, _operation_1$Abstract);\n  var _super = _createSuper(DropSearchIndexOperation);\n  function DropSearchIndexOperation(collection, name) {\n    var _this;\n    _classCallCheck(this, DropSearchIndexOperation);\n    _this = _super.call(this);\n    _this.collection = collection;\n    _this.name = name;\n    return _this;\n  }\n  _createClass(DropSearchIndexOperation, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(server, session) {\n        var namespace, command, isNamespaceNotFoundError;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              namespace = this.collection.fullNamespace;\n              command = {\n                dropSearchIndex: namespace.collection\n              };\n              if (typeof this.name === 'string') {\n                command.name = this.name;\n              }\n              _context.prev = 3;\n              _context.next = 6;\n              return server.commandAsync(namespace, command, {\n                session: session\n              });\n            case 6:\n              _context.next = 13;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              isNamespaceNotFoundError = _context.t0 instanceof error_1.MongoServerError && _context.t0.code === error_1.MONGODB_ERROR_CODES.NamespaceNotFound;\n              if (isNamespaceNotFoundError) {\n                _context.next = 13;\n                break;\n              }\n              throw _context.t0;\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[3, 8]]);\n      }));\n      function execute(_x, _x2) {\n        return _execute.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n  return DropSearchIndexOperation;\n}(operation_1.AbstractOperation);\nexports.DropSearchIndexOperation = DropSearchIndexOperation;","map":{"version":3,"names":["error_1","require","operation_1","DropSearchIndexOperation","_operation_1$Abstract","_inherits","_super","_createSuper","collection","name","_this","_classCallCheck","call","_createClass","key","value","_execute","_asyncToGenerator","_regeneratorRuntime","mark","_callee","server","session","namespace","command","isNamespaceNotFoundError","wrap","_callee$","_context","prev","next","fullNamespace","dropSearchIndex","commandAsync","t0","MongoServerError","code","MONGODB_ERROR_CODES","NamespaceNotFound","stop","execute","_x","_x2","apply","arguments","AbstractOperation","exports"],"sources":["C:\\Users\\raphm\\Documents\\Projects\\youtube-transcript\\youtube-transcript\\node_modules\\mongodb\\src\\operations\\search_indexes\\drop.ts"],"sourcesContent":["import type { Document } from 'bson';\n\nimport type { Collection } from '../../collection';\nimport { MONGODB_ERROR_CODES, MongoServerError } from '../../error';\nimport type { Server } from '../../sdam/server';\nimport type { ClientSession } from '../../sessions';\nimport { AbstractOperation } from '../operation';\n\n/** @internal */\nexport class DropSearchIndexOperation extends AbstractOperation<void> {\n  constructor(private readonly collection: Collection, private readonly name: string) {\n    super();\n  }\n\n  override async execute(server: Server, session: ClientSession | undefined): Promise<void> {\n    const namespace = this.collection.fullNamespace;\n\n    const command: Document = {\n      dropSearchIndex: namespace.collection\n    };\n\n    if (typeof this.name === 'string') {\n      command.name = this.name;\n    }\n\n    try {\n      await server.commandAsync(namespace, command, { session });\n    } catch (error) {\n      const isNamespaceNotFoundError =\n        error instanceof MongoServerError && error.code === MONGODB_ERROR_CODES.NamespaceNotFound;\n      if (!isNamespaceNotFoundError) {\n        throw error;\n      }\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AAGA,IAAAC,WAAA,GAAAD,OAAA;AAEA;AAAA,IACaE,wBAAyB,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,wBAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,wBAAA;EACpC,SAAAA,yBAA6BK,UAAsB,EAAmBC,IAAY;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAR,wBAAA;IAChFO,KAAA,GAAAJ,MAAA,CAAAM,IAAA;IAD2BF,KAAA,CAAAF,UAAU,GAAVA,UAAU;IAA+BE,KAAA,CAAAD,IAAI,GAAJA,IAAI;IAAQ,OAAAC,KAAA;EAElF;EAACG,YAAA,CAAAV,wBAAA;IAAAW,GAAA;IAAAC,KAAA;MAAA,IAAAC,QAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAEQ,SAAAC,QAAcC,MAAc,EAAEC,OAAkC;QAAA,IAAAC,SAAA,EAAAC,OAAA,EAAAC,wBAAA;QAAA,OAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACjEP,SAAS,GAAG,IAAI,CAACf,UAAU,CAACuB,aAAa;cAEzCP,OAAO,GAAa;gBACxBQ,eAAe,EAAET,SAAS,CAACf;eAC5B;cAED,IAAI,OAAO,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;gBACjCe,OAAO,CAACf,IAAI,GAAG,IAAI,CAACA,IAAI;;cACzBmB,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGOT,MAAM,CAACY,YAAY,CAACV,SAAS,EAAEC,OAAO,EAAE;gBAAEF,OAAO,EAAPA;cAAO,CAAE,CAAC;YAAA;cAAAM,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAEpDH,wBAAwB,GAC5BG,QAAA,CAAAM,EAAA,YAAiBlC,OAAA,CAAAmC,gBAAgB,IAAIP,QAAA,CAAAM,EAAA,CAAME,IAAI,KAAKpC,OAAA,CAAAqC,mBAAmB,CAACC,iBAAiB;cAAA,IACtFb,wBAAwB;gBAAAG,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MAAAF,QAAA,CAAAM,EAAA;YAAA;YAAA;cAAA,OAAAN,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAnB,OAAA;MAAA,CAIhC;MAAA,SAAAoB,QAAAC,EAAA,EAAAC,GAAA;QAAA,OAAA1B,QAAA,CAAA2B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,OAAA;IAAA;EAAA;EAAA,OAAArC,wBAAA;AAAA,EAzB2CD,WAAA,CAAA2C,iBAAuB;AAArEC,OAAA,CAAA3C,wBAAA,GAAAA,wBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}